<!DOCTYPE html>
<html xmlns:pwp="http://www.cs.otago.ac.nz/staffpriv/ok/pwp.pl" pwp:ask="use_module(library(http/http_session)),ensure_loaded(views)" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AdventureCode</title>

    <!-- AdventureCode-specific styles//-->
    <link href="css/adventurecode.css" rel="stylesheet" />
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/jquery-ui.min.css" rel="stylesheet" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <script src="js/touchtracker.js"></script>
    <script src="js/mazebuilder.js"></script>
    <script src="js/mazebuilder_maps.js"></script>
    <script src="js/mazebuilder_blockly.js"></script>

    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>

  </head>
  <body pwp:att="$" onload="init('$(SCRIPT_NAME)$')">
    <div class="container">
      <div class="row">
		<div class="col-xs-5">
	  		<h1 class="logo"><a href="#"><img alt="AdventureCode" class="logo" src="images/logo.png" /></a></h1>
		</div>
		<div class="col-xs-7 pull-right">
		  <ul class="nav nav-pills pull-right">
		    <li><a href="#login">Login</a></li>
		    <li><a href="#account">Account</a></li>
		    <li></li>
		  </ul>
		</div>
      </div>

      <div class="row">
	       <form id="mazebuilder_form" action="#" method="post">
	        <div class="col-sm-12">
	          <div class="panel panel-primary" pwp:ask="display_view(SCRIPT_NAME,View,Title)" >

	            <div class="panel-heading" pwp:use="Title" />

	            <div pwp:use="View" pwp:how="xml" />
        	
    	        <div class="panel-footer">
    	          <div class="row">
    		        <div class="col-xs-3">
    		          <button class="btn btn-default" type="button" onclick="showHelp()">
    		            <img alt="Help" class="nav-icon" src="images/icon-help.png" />
    		          </button>
    		        </div>
    		        <div class="col-xs-9" pwp:ask="page(SCRIPT_NAME,Prev,Next)">
    		          
    		          <button pwp:ask="SCRIPT_NAME='/step3'" class="btn btn-default pull-right" type="button" src="images/icon-reset.png" pwp:att="$"  onclick="reset_game('#mazebuilder_form','/step1')">
    		            <img alt="Next" class="nav-icon" src="images/icon-reset.png" />
    		          </button>
    		          
    		          <button pwp:ask="\+SCRIPT_NAME='/step3'" class="btn btn-default pull-right" type="button" src="images/icon-next.png" pwp:att="$"  onclick="submit_form('#mazebuilder_form','$(Next)$')">
    		            <img alt="Next" class="nav-icon" src="images/icon-next.png" />
    		          </button>
    
    		          <button pwp:ask="\+SCRIPT_NAME='/step1'" class="btn btn-default pull-right" type="button" src="images/icon-back.png" pwp:att="$" onclick="submit_form('#mazebuilder_form','$(Prev)$')">
    		              <img alt="Previous" class="nav-icon" src="images/icon-back.png" />
    		          </button>
    	        	</div><!--col-xs-9//-->
    	          </div><!--row//-->
    	        </div><!--panel-footer//-->
	          </div><!--panel//-->
        	</div><!--col-sm-12//-->
        	

                
        	<input type="hidden" name="maze_setting" id="maze_setting" pwp:ask="http_session_data(maze_setting(Setting))" pwp:att="$" value="$(Setting)$" />
        	<input type="hidden" name="maze_setting" id="maze_setting" pwp:ask="\+http_session_data(maze_setting(Setting))" value="" />
        	
        	<input type="hidden" name="maze_goal" id="maze_goal" pwp:ask="http_session_data(maze_goal(Goal))" pwp:att="$" value="$(Goal)$" />
        	<input type="hidden" name="maze_goal" id="maze_goal" pwp:ask="\+http_session_data(maze_goal(Goal))" value="" />
        	
        	<input type="hidden" name="maze_hero" id="maze_hero" pwp:ask="http_session_data(maze_hero(Hero))" pwp:att="$" value="$(Hero)$" />
        	<input type="hidden" name="maze_hero" id="maze_hero" pwp:ask="\+http_session_data(maze_hero(Hero))" value="" />
        
      </form>
      </div><!--row//-->

      
      <footer>
      	<p class="col-xs-6">&copy; <a href="http://www.jlcreations.com" target="_blank">JLCreations.com 2015</a></p>
      	<div class="col-xs-6"><div class="pull-right">Powered by <a href="http://www.swi-prolog.org/" target="_blank">SWI-Prolog</a></p>
      </footer>
    </div>
  </body>
</html>
