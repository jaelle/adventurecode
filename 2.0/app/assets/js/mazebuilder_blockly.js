// Generated by CoffeeScript 1.9.0
(function() {
  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  window.BlocklyPanel = (function() {
    BlocklyPanel.prototype.blockly_container = null;

    BlocklyPanel.prototype.maze_container = null;

    function BlocklyPanel(blockly_container_id, maze_container_id) {
      this._initBehavior = __bind(this._initBehavior, this);
      this.resize_handler = __bind(this.resize_handler, this);
      console.log("new blockly panel");
      this.blockly_container = blockly_container_id;
      this.maze_container = maze_container_id;
      this.resize_blockly();
    }

    BlocklyPanel.prototype.resize_handler = function(event) {
      this.resize_blockly();
      console.log("resizing");
      return false;
    };

    BlocklyPanel.prototype.resize_blockly = function() {
      return $(this.blockly_container)[0].height = $(this.maze_container + " canvas")[0].height + 2;
    };

    BlocklyPanel.prototype._initBehavior = function() {
      return $(window).resize(this.resize_handler);
    };

    return BlocklyPanel;

  })();

  window.blocklyLoaded = function(blockly) {
    return window.Blockly = blockly;
  };

  window.run_code = function() {
    var code;
    code = window.Blockly.JavaScript.workspaceToCode();
    return console.log(code);
  };

  window.reset_code = function() {
    return window.Blockly.mainWorkspace.clear();
  };

}).call(this);
